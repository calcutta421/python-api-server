# Webサーバでリクエストパラメータを受け取る

PC上でWebサーバを起動できるようになりましたが、今は常に同じ文字列しか返しません。
こちらから送ったパラメータをWebサーバで受け取り、それを表示するようにしましょう。

## 1. Webサーバのコードを記述する

main.pyを以下のように書き換えてください。

```python
import string
from fastapi import FastAPI

app = FastAPI()


@app.get("/")
async def root(q: str):
    return {"message": q}
```

"q"というパラメータを受け取って、表示しています。

## 2. Webサーバを起動する

以下のコマンドでWebサーバを起動してください。

```sh
uvicorn main:app --reload
```

## 3. Webサーバにアクセスする

"http://127.0.0.1:8000/?q=test"をWebブラウザで開いてください。
以下のテキストが表示されるはずです。

```
{"message": "test"}
```

Webアドレスの最後につけた"q=test"というパラメータを受け取っていることがわかります。

## 4. GitHubに変更を保存する

```sh
git add main.py
git commit -m "tutorial 1-2"
git push
```

## Note

WebアドレスのことをURL(Uniform Resource Locator)と呼びます。URLはいくつかの部分で構成されます。
"http://127.0.0.1:8000/?q=test"を分解すると、以下のようになります。

- "http": スキーム
    - 通信方法
    - httpは、Webページを記述するHTMLをやりとりするために開発された通信方法です
    - httpsはセキュアなhttpで、通信を暗号化したり通信先の身元を確認することができます
    - **Webサーバの開発時を除き、httpではなくhttpsを使うのが基本です**
- "127.0.0.1:8000": ホスト名
    - "127.0.0.1"はIPアドレスで、通信先のマシンを特定します
    - "8000"はポート番号で、通信先のマシン上の複数のプロセスの中から通信するプロセスを特定します
- "/": パス
    - 通信先のマシン上のリソースを指定します
- "?q=test": クエリ
    - 名前と値をペアにした文字列で、リクエストを受け取ったWebサーバは名前から値を指定することができます。
    - "&"で区切ることで複数指定ができます
    - **機密情報をクエリに含めてはいけません**